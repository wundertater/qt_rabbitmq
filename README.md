# Работа с RabbitMQ  

- **Producer (Клиент)** — приложение с интерфейсом на **PyQt**.    
- **Consumer (Сервер)** — асинхронный однопоточный сервер, способный обрабатывать запросы от множества клиентов.    

--------------

-  **RabbitMQ** (`pika` / `aio-pika`)    
-  **Protobuf**  
-  **PyQt**

## Sequence diagram

```mermaid
sequenceDiagram
    participant Сервер
    participant Брокер
    participant Клиент

    Сервер->>Брокер: Создание основной очереди и exchange для запросов всех клиентов
    Клиент->>Брокер: Инициализация клиента, создание уникальной очереди клиента
    Клиент->>Брокер: Отправка запроса в основную очередь
    Сервер->>Брокер: Ответ посылается в уникальную очередь указанную клиентом
    Брокер->>Клиент: Клиент читает свою уникальную очередь, получает ответ от сервера
    Клиент->>Брокер: При закрытии соединения с клиентом его уникальная очередь удаляется
